(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(14),o=t.n(c),u=t(2),l=function(e){var n=e.person,t=e.deletePerson;return a.a.createElement("li",{className:"person"},"Name: ",n.name,a.a.createElement("br",null),"Number: ",n.number,a.a.createElement("br",null),a.a.createElement("button",{onClick:t(n._id)},"Delete"))},s=function(e){var n=e.message;e.serErrorMessage;return null===n?null:a.a.createElement("div",{className:"error"},n)},i=function(){return a.a.createElement("div",{style:{color:"green",fontStyle:"italic",fontSize:16}},a.a.createElement("br",null),a.a.createElement("em",null,"Note app, Department of Computer Science, University of Helsinki 2019"))},m=t(4),f=t(3),d=t.n(f),E="http://localhost:3001/api/persons",p=function(){return d.a.get(E)},b=function(e){return d.a.post(E,e).then(function(e){return e.error||e.errors?(console.log("createPerson error",e),e):e.data}).catch(function(e){return console.log("post err",e)})},v=function(e,n){return d.a.put("".concat(E,"/").concat(e),n).then(function(e){return e.data}).catch(function(e){return console.log("put err")})},g=function(e){return d.a.delete("".concat(E,"/").concat(e)).then(function(e){return e.data}).catch(function(e){return console.log("deleteById err",e)})},h=function(e){var n=e.setPersons,t=e.persons,c=e.setErrorMessage,o=Object(r.useState)(""),l=Object(u.a)(o,2),s=l[0],i=l[1],f=Object(r.useState)(""),d=Object(u.a)(f,2),E=d[0],g=d[1];Object(r.useEffect)(function(){p().then(function(e){n(e.data)})},[n]);return a.a.createElement("form",{className:"add-person",onSubmit:function(e){e.preventDefault();var r={name:s,number:E},a=function(e){return t.find(function(n){return e.name===n.name})}(r);a?v(a._id,r).then(function(e){var a=t.findIndex(function(e){return e.name===r.name});t[a]=e,n(Object(m.a)(t))}).catch(function(e){c(e.message)}):b(r).then(function(e){if(e.errors)c(e.message);else{var r=e;n([].concat(Object(m.a)(t),[r]))}}).catch(function(e){c(e.message)})}},a.a.createElement("h3",null,"Add Person"),a.a.createElement("div",null,a.a.createElement("label",null,"Name: "),a.a.createElement("input",{value:s,onChange:function(e){return i(e.target.value)}})),a.a.createElement("div",null,a.a.createElement("label",null,"Number: "),a.a.createElement("input",{value:E,onChange:function(e){return g(e.target.value)}})),a.a.createElement("button",{type:"submit"},"save"))},j=function(){var e=Object(r.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(null),m=Object(u.a)(o,2),f=m[0],d=m[1],E=function(e){return function(){g(e).then(function(e){var n=t.filter(function(n){return n._id!==e._id});c(n)})}};return a.a.createElement("div",null,a.a.createElement("h1",null,"Persons"),a.a.createElement(s,{message:f}),a.a.createElement("ul",{className:"persons-list"},t.map(function(e){return a.a.createElement(l,{key:e._id,person:e,deletePerson:E})})),a.a.createElement(h,{persons:t,setPersons:c,setErrorMessage:d}),a.a.createElement(i,null))};t(38);o.a.render(a.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.25889e2b.chunk.js.map