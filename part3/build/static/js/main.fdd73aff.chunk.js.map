{"version":3,"sources":["components/Person.js","components/Notification.js","components/Footer.js","services/persons.js","components/AddPerson.js","App.js","index.js"],"names":["Person","_ref","person","deletePerson","react_default","a","createElement","className","name","number","onClick","_id","Notification","message","Footer","style","color","fontStyle","fontSize","baseUrl","services_persons","axios","get","newObject","post","then","response","data","id","put","concat","delete","res","catch","err","console","log","AddPerson","setPersons","persons","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNumber","setNewNumber","useEffect","personsService","onSubmit","e","preventDefault","pExists","find","p","personExists","updatedPerson","index","findIndex","toConsumableArray","value","onChange","evt","target","event","type","App","errorMessage","deletedPerson","filteredPersons","filter","components_Notification","map","components_Person","key","components_AddPerson","components_Footer","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.fdd73aff.chunk.js","sourcesContent":["import React from 'react';\n\nconst Person = ({person, deletePerson}) => {\n\n  return (\n    <li className='person'>\n      Name: {person.name}\n      <br/>\n      Number: {person.number}\n      <br/>\n      <button onClick={deletePerson(person._id)}>Delete</button>\n    </li>\n  );\n};\n\nexport default Person;\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification ","import React from 'react'\n\nconst Footer = () => {\n  const footerStyle = {\n    color: 'green',\n    fontStyle: 'italic',\n    fontSize: 16\n  }\n\n  return (\n    <div style={footerStyle}>\n      <br />\n      <em>Note app, Department of Computer Science, University of Helsinki 2019</em>\n    </div>\n  )\n}\n\nexport default Footer ","import axios from 'axios';\n\nconst baseUrl = 'http://localhost:3001/api/persons';\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst createPerson = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst updatePerson = (id, person) => {\n  const request = axios.put(`${baseUrl}/${id}`, person);\n  return request.then(response => response.data);\n};\n\nconst deleteById = id => axios.delete(`${baseUrl}/${id}`).then(res => res.data)\n  .catch(err => console.log('deleteById err', err));\n\nexport default {getAll, createPerson, updatePerson, deleteById};\n","import React, {useState, useEffect} from 'react';\n\nimport personsService from '../services/persons';\n\nconst AddPerson = ({setPersons, persons}) => {\n\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(res => {\n        setPersons(res.data);\n      });\n  }, [setPersons]);\n\n  const handleNameChange = evt => setNewName(evt.target.value);\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\n  const personExists = person => persons.find(p => person.name === p.name);\n\n  const addPerson = e => {\n    e.preventDefault();\n    const person = {\n      name: newName,\n      number: newNumber,\n    };\n    const pExists = personExists(person);\n    if (pExists) {\n      personsService.updatePerson(pExists._id, person)\n        .then(updatedPerson => {\n          const index = persons.findIndex(p => p.name === person.name)\n          persons[index] = updatedPerson;\n          setPersons([...persons])\n        });\n    } else {\n      personsService.createPerson(person)\n        .then(person => setPersons([...persons, person]));\n    }\n  };\n\n  return (\n    <form className='add-person' onSubmit={addPerson}>\n      <h3>Add Person</h3>\n      <div>\n        <label>Name: </label>\n        <input\n          value={newName}\n          onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        <label>Number: </label>\n        <input\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n      </div>\n      <button type=\"submit\">save</button>\n    </form>\n  );\n};\n\nexport default AddPerson;\n","import React, {useState} from 'react';\nimport Person from './components/Person';\nimport Notification from './components/Notification';\nimport Footer from './components/Footer';\nimport AddPerson from './components/AddPerson';\nimport personsService from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const personsList = () => persons.map(person =>\n    <Person\n      key={person._id}\n      person={person}\n      deletePerson={deletePerson}\n    />\n  );\n\n  const deletePerson = id => {\n    return () => {\n      personsService.deleteById(id)\n        .then(deletedPerson => {\n          const filteredPersons = persons.filter(p => p._id !== deletedPerson._id);\n          setPersons(filteredPersons);\n        });\n    };\n  };\n\n  return (\n    <div>\n      <h1>Persons</h1>\n      <Notification message={errorMessage}/>\n      <ul className='persons-list'>\n        {personsList()}\n      </ul>\n      <AddPerson\n        persons={persons}\n        setPersons={setPersons}/>\n      <Footer/>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'  \nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}