{"version":3,"sources":["components/Person.js","components/Notification.js","components/Footer.js","services/persons.js","components/AddPerson.js","App.js","index.js"],"names":["Person","_ref","person","deletePerson","react_default","a","createElement","className","name","number","onClick","_id","Notification","message","serErrorMessage","Footer","style","color","fontStyle","fontSize","baseUrl","services_persons","axios","get","newObject","post","then","res","error","errors","console","log","data","catch","err","id","put","concat","response","delete","AddPerson","setPersons","persons","setErrorMessage","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNumber","setNewNumber","useEffect","personsService","onSubmit","e","preventDefault","pExists","find","p","personExists","updatedPerson","index","findIndex","toConsumableArray","value","onChange","evt","target","event","type","App","errorMessage","deletedPerson","filteredPersons","filter","components_Notification","map","components_Person","key","components_AddPerson","components_Footer","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.25889e2b.chunk.js","sourcesContent":["import React from 'react';\n\nconst Person = ({person, deletePerson}) => {\n\n  return (\n    <li className='person'>\n      Name: {person.name}\n      <br/>\n      Number: {person.number}\n      <br/>\n      <button onClick={deletePerson(person._id)}>Delete</button>\n    </li>\n  );\n};\n\nexport default Person;\n","import React from 'react'\n\nconst Notification = ({ message , serErrorMessage}) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import React from 'react'\n\nconst Footer = () => {\n  const footerStyle = {\n    color: 'green',\n    fontStyle: 'italic',\n    fontSize: 16\n  }\n\n  return (\n    <div style={footerStyle}>\n      <br />\n      <em>Note app, Department of Computer Science, University of Helsinki 2019</em>\n    </div>\n  )\n}\n\nexport default Footer ","import axios from 'axios';\n\nconst baseUrl = 'http://localhost:3001/api/persons';\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst createPerson = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request\n    .then(res => {\n      if (res.error || res.errors) {\n        console.log('createPerson error', res);\n        return res;\n      }\n      return res.data;\n    })\n    .catch(err => console.log('post err', err));\n};\n\nconst updatePerson = (id, person) => {\n  const request = axios.put(`${baseUrl}/${id}`, person);\n  return request\n    .then(response => response.data)\n    .catch(err => console.log('put err'));\n};\n\nconst deleteById = id => axios.delete(`${baseUrl}/${id}`).then(res => res.data)\n  .catch(err => console.log('deleteById err', err));\n\nexport default {getAll, createPerson, updatePerson, deleteById};\n","import React, {useState, useEffect} from 'react';\n\nimport personsService from '../services/persons';\n\nconst AddPerson = ({setPersons, persons, setErrorMessage}) => {\n\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(res => {\n        setPersons(res.data);\n      });\n  }, [setPersons]);\n\n  const handleNameChange = evt => setNewName(evt.target.value);\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\n  const personExists = person => persons.find(p => person.name === p.name);\n\n  const addPerson = e => {\n    e.preventDefault();\n    const person = {\n      name: newName,\n      number: newNumber,\n    };\n    const pExists = personExists(person);\n    if (pExists) {\n      personsService.updatePerson(pExists._id, person)\n        .then(updatedPerson => {\n          const index = persons.findIndex(p => p.name === person.name);\n          persons[index] = updatedPerson;\n          setPersons([...persons]);\n        })\n        .catch(error => {\n          setErrorMessage(error.message);\n        });\n    } else {\n      personsService.createPerson(person)\n        .then(res => {\n          if (res.errors) {\n            setErrorMessage(res.message);\n            return;\n          }\n\n          const person = res;\n          setPersons([...persons, person]);\n        })\n        .catch(error => {\n          setErrorMessage(error.message);\n        });\n    }\n  };\n\n  return (\n    <form className='add-person' onSubmit={addPerson}>\n      <h3>Add Person</h3>\n      <div>\n        <label>Name: </label>\n        <input\n          value={newName}\n          onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        <label>Number: </label>\n        <input\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n      </div>\n      <button type=\"submit\">save</button>\n    </form>\n  );\n};\n\nexport default AddPerson;\n","import React, {useState} from 'react';\nimport Person from './components/Person';\nimport Notification from './components/Notification';\nimport Footer from './components/Footer';\nimport AddPerson from './components/AddPerson';\nimport personsService from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const personsList = () => persons.map(person =>\n    <Person\n      key={person._id}\n      person={person}\n      deletePerson={deletePerson}\n    />\n  );\n\n  const deletePerson = id => {\n    return () => {\n      personsService.deleteById(id)\n        .then(deletedPerson => {\n          const filteredPersons = persons.filter(p => p._id !== deletedPerson._id);\n          setPersons(filteredPersons);\n        });\n    };\n  };\n\n  return (\n    <div>\n      <h1>Persons</h1>\n      <Notification\n        message={errorMessage}\n        />\n      <ul className='persons-list'>\n        {personsList()}\n      </ul>\n      <AddPerson\n        persons={persons}\n        setPersons={setPersons}\n        setErrorMessage={setErrorMessage}/>\n      <Footer/>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'  \nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}