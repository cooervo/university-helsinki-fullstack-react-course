(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(14),u=t.n(c),l=t(2),o=function(e){var n=e.person,t=e.deletePerson;return r.a.createElement("li",{className:"person"},"Name: ",n.name,r.a.createElement("br",null),"Number: ",n.number,r.a.createElement("br",null),r.a.createElement("button",{onClick:t(n._id)},"Delete"))},i=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"error"},n)},s=function(){return r.a.createElement("div",{style:{color:"green",fontStyle:"italic",fontSize:16}},r.a.createElement("br",null),r.a.createElement("em",null,"Note app, Department of Computer Science, University of Helsinki 2019"))},m=t(4),f=t(3),d=t.n(f),p="http://localhost:3001/api/persons",E=function(){return d.a.get(p)},b=function(e){return d.a.post(p,e).then(function(e){return e.data})},v=function(e,n){return d.a.put("".concat(p,"/").concat(e),n).then(function(e){return e.data})},h=function(e){return d.a.delete("".concat(p,"/").concat(e)).then(function(e){return e.data}).catch(function(e){return console.log("deleteById err",e)})},j=function(e){var n=e.setPersons,t=e.persons,c=Object(a.useState)(""),u=Object(l.a)(c,2),o=u[0],i=u[1],s=Object(a.useState)(""),f=Object(l.a)(s,2),d=f[0],p=f[1];Object(a.useEffect)(function(){E().then(function(e){n(e.data)})},[n]);return r.a.createElement("form",{className:"add-person",onSubmit:function(e){e.preventDefault();var a={name:o,number:d},r=function(e){return t.find(function(n){return e.name===n.name})}(a);r?v(r._id,a).then(function(e){var r=t.findIndex(function(e){return e.name===a.name});t[r]=e,n(Object(m.a)(t))}):b(a).then(function(e){return n([].concat(Object(m.a)(t),[e]))})}},r.a.createElement("h3",null,"Add Person"),r.a.createElement("div",null,r.a.createElement("label",null,"Name: "),r.a.createElement("input",{value:o,onChange:function(e){return i(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",null,"Number: "),r.a.createElement("input",{value:d,onChange:function(e){return p(e.target.value)}})),r.a.createElement("button",{type:"submit"},"save"))},O=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],c=n[1],u=Object(a.useState)(null),m=Object(l.a)(u,2),f=m[0],d=(m[1],function(e){return function(){h(e).then(function(e){var n=t.filter(function(n){return n._id!==e._id});c(n)})}});return r.a.createElement("div",null,r.a.createElement("h1",null,"Persons"),r.a.createElement(i,{message:f}),r.a.createElement("ul",{className:"persons-list"},t.map(function(e){return r.a.createElement(o,{key:e._id,person:e,deletePerson:d})})),r.a.createElement(j,{persons:t,setPersons:c}),r.a.createElement(s,null))};t(38);u.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.fdd73aff.chunk.js.map